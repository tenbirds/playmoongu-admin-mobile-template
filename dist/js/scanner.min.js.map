{"version":3,"file":"scanner.min.js","sources":["scanner.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar codes = [];\nvar seen = new Set(); // Create new barcode detector\n\nvar barcodeDetector = new BarcodeDetector({\n  formats: ['qr_code']\n}); // Define custom element\n\ncustomElements.define('scaned-item', /*#__PURE__*/function (_HTMLElement) {\n  _inherits(_class, _HTMLElement);\n\n  var _super = _createSuper(_class);\n\n  function _class() {\n    var _this;\n\n    _classCallCheck(this, _class);\n\n    _this = _super.call(this);\n    var template = document.querySelector('#scaned-item').content;\n\n    var shadowRoot = _this.attachShadow({\n      mode: 'open'\n    }).appendChild(template.cloneNode(true));\n\n    return _this;\n  }\n\n  return _class;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement))); // Codes proxy/state\n\nvar codesProxy = new Proxy(codes, {\n  set: function set(target, prop, value, receiver) {\n    // Throw err if value is a number\n    // Stops from saving undefined codes\n    if (typeof value === 'number') throw value;\n    target.push(value); // Check if code has already been scanned\n\n    target = target.filter(function (c) {\n      if (c.rawValue !== window.barcodeVal) return c;\n      var d = seen.has(c.rawValue);\n      seen.add(c.rawValue);\n      return !d;\n    }); // Select the container scanned\n\n    var scanned = document.querySelector('#scanned');\n    var temp = document.createElement('scaned-item');\n    var format = document.createElement('span');\n    var rawValue = document.createElement('span'); // Goes into the custom elements formate slot\n\n    format.setAttribute('slot', 'format');\n    format.innerHTML = value.format; // Goes into the custom elements raw slot \n\n    rawValue.setAttribute('slot', 'raw');\n    rawValue.innerHTML = value.rawValue; // Append elements to custom element\n\n    temp.appendChild(rawValue);\n    temp.appendChild(format); // Append Custom element to scanned container\n\n    scanned.appendChild(temp);\n    return true;\n  }\n}); // Get video element \n\nvar video = document.getElementById('video'); // Check for a camera\n\nif (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n  var constraints = {\n    video: true,\n    audio: false\n  }; // Start video stream\n\n  navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n    return video.srcObject = stream;\n  });\n} // Draw outline to canvas \n\n/* --NOTE-- \r\n  Some codes will not out line the whole barcode \r\n  instead may have a thin line this is because for a lot of \r\n  barcodes that is all that is needed.\r\n  if you would like to out line the whole code you can have \r\n  a look at using the boundingBox object instead of \r\n  the cornerPoints array in this example it is not used \r\n  but my edit this to make a square around other codes\r\n  that do not get outlined :) \r\n*/\n\n\nvar drawCodePath = function drawCodePath(_ref) {\n  var cornerPoints = _ref.cornerPoints;\n  var canvas = document.querySelector('#canvas');\n  var ctx = canvas.getContext('2d');\n  var strokeGradient = ctx.createLinearGradient(0, 0, canvas.scrollWidth, canvas.scrollHeight); // Exit function and clear canvas if no corner points\n\n  if (!cornerPoints) return ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas for new redraw\n\n  ctx.clearRect(0, 0, canvas.width, canvas.height); // Create new gradient\n\n  strokeGradient.addColorStop('0', '#c471ed');\n  strokeGradient.addColorStop('1', '#f7797d'); // Define stoke styles\n\n  ctx.strokeStyle = strokeGradient;\n  ctx.lineWidth = 4; // Begin draw\n\n  ctx.beginPath(); // Draw code outline path\n\n  var _iterator = _createForOfIteratorHelper(cornerPoints.entries()),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          i = _step$value[0],\n          _step$value$ = _step$value[1],\n          x = _step$value$.x,\n          y = _step$value$.y;\n\n      if (i === 0) {\n        // Move x half of the stroke width back \n        // makes the start and end corner line up\n        ctx.moveTo(x - ctx.lineWidth / 2, y);\n        continue;\n      } // Draw line from current pos to x, y\n\n\n      ctx.lineTo(x, y); // Complete square draw to starting position\n\n      if (i === cornerPoints.length - 1) ctx.lineTo(cornerPoints[0].x, cornerPoints[0].y);\n    } // Make path to stroke\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  ctx.stroke();\n}; // Detect code function \n\n\nvar detectCode = function detectCode() {\n  barcodeDetector.detect(video).then(function (codes) {\n    // If no codes exit function and clear canvas\n    if (codes.length === 0) return drawCodePath({});\n\n    var _iterator2 = _createForOfIteratorHelper(codes),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var barcode = _step2.value;\n        console.log(barcode); // Draw outline\n\n        drawCodePath(barcode); // Code in seen set then exit loop \n\n        if (seen.has(barcode.rawValue)) return; // Save barcode to window to use later on\n        // then push to the codes proxy\n\n        window.barcodeVal = barcode.rawValue;\n        codesProxy.push(barcode);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }).catch(function (err) {\n    console.error(err);\n  });\n}; // Run detect code function every 100 milliseconds\n\n\nsetInterval(detectCode, 100);"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_i","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","Array","isArray","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","e","_e2","f","normalCompletion","didErr","step","_e3","return","minLen","_arrayLikeToArray","Object","toString","slice","name","from","test","len","arr2","_classCallCheck","instance","Constructor","_inherits","subClass","superClass","create","writable","configurable","_setPrototypeOf","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","NewTarget","Super","_getPrototypeOf","_possibleConstructorReturn","this","Reflect","construct","arguments","apply","self","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","has","get","set","Wrapper","_construct","enumerable","Parent","args","a","Function","bind","sham","Proxy","Boolean","valueOf","fn","indexOf","p","setPrototypeOf","__proto__","getPrototypeOf","codes","seen","Set","barcodeDetector","BarcodeDetector","formats","customElements","define","_class","HTMLElement","_super","_this","template","document","querySelector","content","attachShadow","mode","appendChild","cloneNode","constraints","codesProxy","target","prop","receiver","filter","c","rawValue","window","barcodeVal","d","add","scanned","temp","createElement","format","setAttribute","innerHTML","video","getElementById","navigator","mediaDevices","getUserMedia","audio","then","stream","srcObject","drawCodePath","_ref","cornerPoints","canvas","ctx","getContext","strokeGradient","createLinearGradient","scrollWidth","scrollHeight","clearRect","width","height","addColorStop","strokeStyle","lineWidth","beginPath","_step","_iterator","entries","_step$value","_step$value$","x","y","lineTo","moveTo","stroke","detectCode","detect","_step2","_iterator2","barcode","console","log","catch","error","setInterval"],"mappings":"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"}