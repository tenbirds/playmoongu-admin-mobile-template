{"version":3,"file":"mobileSelect.min.js","sources":["mobileSelect.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*!\r\n * mobileSelect.js\r\n * (c) 2017-present onlyhom\r\n * Released under the MIT License.\r\n */\n(function () {\n  function getClass(dom, string) {\n    return dom.getElementsByClassName(string);\n  } //构造器\n\n\n  function MobileSelect(config) {\n    this.iden = config.iden;\n    this.mobileSelect;\n    this.wheelsData = config.wheels;\n    this.jsonType = false;\n    this.cascadeJsonData = [];\n    this.displayJson = [];\n    this.curValue = null;\n    this.curIndexArr = [];\n    this.cascade = false;\n    this.startY;\n    this.moveEndY;\n    this.moveY;\n    this.oldMoveY;\n    this.offset = 0;\n    this.offsetSum = 0;\n    this.oversizeBorder;\n    this.curDistance = [];\n    this.clickStatus = false;\n    this.isPC = true;\n    this.init(config);\n  }\n\n  MobileSelect.prototype = {\n    constructor: MobileSelect,\n    init: function init(config) {\n      var _this = this;\n\n      _this.keyMap = config.keyMap ? config.keyMap : {\n        id: 'id',\n        value: 'value',\n        childs: 'childs'\n      };\n\n      _this.checkDataType();\n\n      _this.renderWheels(_this.wheelsData, config.cancelBtnText, config.ensureBtnText);\n\n      _this.trigger = document.querySelector(config.trigger);\n\n      if (!_this.trigger) {\n        console.error('mobileSelect has been successfully installed, but no trigger found on your page.');\n        return false;\n      }\n\n      _this.wheel = getClass(_this.mobileSelect, 'wheel');\n      _this.slider = getClass(_this.mobileSelect, 'selectContainer');\n      _this.wheels = _this.mobileSelect.querySelector('.wheels');\n      _this.liHeight = _this.mobileSelect.querySelector('li').offsetHeight;\n      _this.ensureBtn = _this.mobileSelect.querySelector('.ensure');\n      _this.cancelBtn = _this.mobileSelect.querySelector('.cancel');\n      _this.grayLayer = _this.mobileSelect.querySelector('.grayLayer');\n      _this.popUp = _this.mobileSelect.querySelector('.content');\n\n      _this.callback = config.callback || function () {};\n\n      _this.transitionEnd = config.transitionEnd || function () {};\n\n      _this.onShow = config.onShow || function () {};\n\n      _this.onHide = config.onHide || function () {};\n\n      _this.initPosition = config.position || [];\n      _this.titleText = config.title || '';\n      _this.connector = config.connector || ' ';\n      _this.triggerDisplayData = !(typeof config.triggerDisplayData == 'undefined') ? config.triggerDisplayData : true;\n      _this.trigger.style.cursor = 'pointer';\n\n      _this.setStyle(config);\n\n      _this.setTitle(_this.titleText);\n\n      _this.checkIsPC();\n\n      _this.checkCascade();\n\n      _this.addListenerAll();\n\n      if (_this.cascade) {\n        _this.initCascade();\n      } //定位 初始位置\n\n\n      if (_this.initPosition.length < _this.slider.length) {\n        var diff = _this.slider.length - _this.initPosition.length;\n\n        for (var i = 0; i < diff; i++) {\n          _this.initPosition.push(0);\n        }\n      }\n\n      _this.setCurDistance(_this.initPosition); //按钮监听\n\n\n      _this.cancelBtn.addEventListener('click', function (event) {\n        _this.hide();\n      });\n\n      _this.ensureBtn.addEventListener('click', function (event) {\n        _this.hide();\n\n        if (!_this.liHeight) {\n          _this.liHeight = _this.mobileSelect.querySelector('li').offsetHeight;\n        }\n\n        var tempValue = '';\n\n        for (var i = 0; i < _this.wheel.length; i++) {\n          i == _this.wheel.length - 1 ? tempValue += _this.getInnerHtml(i) : tempValue += _this.getInnerHtml(i) + _this.connector;\n        }\n\n        if (_this.triggerDisplayData) {\n          _this.trigger.innerHTML = tempValue;\n        }\n\n        _this.curIndexArr = _this.getIndexArr();\n        _this.curValue = _this.getCurValue();\n\n        _this.callback(_this.curIndexArr, _this.curValue);\n      });\n\n      _this.trigger.addEventListener('click', function (event) {\n        _this.show();\n      });\n\n      _this.grayLayer.addEventListener('click', function (event) {\n        _this.hide();\n      });\n\n      _this.popUp.addEventListener('click', function (event) {\n        event.stopPropagation();\n      });\n\n      _this.fixRowStyle(); //修正列数\n\n\n      setTimeout(function () {\n        _this.activeItem(_this.getIndexArr());\n      }, 500);\n    },\n    setTitle: function setTitle(string) {\n      var _this = this;\n\n      _this.titleText = string;\n      _this.mobileSelect.querySelector('.title').innerHTML = _this.titleText;\n    },\n    setStyle: function setStyle(config) {\n      var _this = this;\n\n      if (config.ensureBtnColor) {\n        _this.ensureBtn.style.color = config.ensureBtnColor;\n      }\n\n      if (config.cancelBtnColor) {\n        _this.cancelBtn.style.color = config.cancelBtnColor;\n      }\n\n      if (config.titleColor) {\n        _this.title = _this.mobileSelect.querySelector('.title');\n        _this.title.style.color = config.titleColor;\n      }\n\n      if (config.textColor) {\n        _this.panel = _this.mobileSelect.querySelector('.panel');\n        _this.panel.style.color = config.textColor;\n      }\n\n      if (config.titleBgColor) {\n        _this.btnBar = _this.mobileSelect.querySelector('.btnBar');\n        _this.btnBar.style.backgroundColor = config.titleBgColor;\n      }\n\n      if (config.bgColor) {\n        _this.panel = _this.mobileSelect.querySelector('.panel');\n        _this.shadowMask = _this.mobileSelect.querySelector('.shadowMask');\n        _this.panel.style.backgroundColor = config.bgColor;\n        _this.shadowMask.style.background = 'linear-gradient(to bottom, ' + config.bgColor + ', rgba(255, 255, 255, 0), ' + config.bgColor + ')';\n      }\n\n      if (!isNaN(config.maskOpacity)) {\n        _this.grayMask = _this.mobileSelect.querySelector('.grayLayer');\n        _this.grayMask.style.background = 'rgba(0, 0, 0, ' + config.maskOpacity + ')';\n      }\n    },\n    checkIsPC: function checkIsPC() {\n      var _this = this;\n\n      var sUserAgent = navigator.userAgent.toLowerCase();\n      var bIsIpad = sUserAgent.match(/ipad/i) == \"ipad\";\n      var bIsIphoneOs = sUserAgent.match(/iphone os/i) == \"iphone os\";\n      var bIsMidp = sUserAgent.match(/midp/i) == \"midp\";\n      var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == \"rv:1.2.3.4\";\n      var bIsUc = sUserAgent.match(/ucweb/i) == \"ucweb\";\n      var bIsAndroid = sUserAgent.match(/android/i) == \"android\";\n      var bIsCE = sUserAgent.match(/windows ce/i) == \"windows ce\";\n      var bIsWM = sUserAgent.match(/windows mobile/i) == \"windows mobile\";\n\n      if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {\n        _this.isPC = false;\n      }\n    },\n    show: function show() {\n      this.mobileSelect.classList.add('mobileSelect-show');\n\n      if (typeof this.onShow === 'function') {\n        this.onShow(this);\n      }\n    },\n    hide: function hide() {\n      this.mobileSelect.classList.remove('mobileSelect-show');\n\n      if (typeof this.onHide === 'function') {\n        this.onHide(this);\n      }\n    },\n    renderWheels: function renderWheels(wheelsData, cancelBtnText, ensureBtnText) {\n      var _this = this;\n\n      var cancelText = cancelBtnText ? cancelBtnText : '取消';\n      var ensureText = ensureBtnText ? ensureBtnText : '确认';\n      _this.mobileSelect = document.createElement(\"div\");\n      _this.mobileSelect.className = \"mobileSelect\";\n      _this.mobileSelect.innerHTML = '<div class=\"grayLayer\"></div>' + '<div class=\"content\">' + '<div class=\"btnBar\">' + '<div class=\"fixWidth\">' + '<div class=\"cancel\">' + cancelText + '</div>' + '<div class=\"title\"></div>' + '<div class=\"ensure\">' + ensureText + '</div>' + '</div>' + '</div>' + '<div class=\"panel\">' + '<div class=\"fixWidth\">' + '<div class=\"wheels\">' + '</div>' + '<div class=\"selectLine\"></div>' + '<div class=\"shadowMask\"></div>' + '</div>' + '</div>' + '</div>';\n      document.body.appendChild(_this.mobileSelect); //根据数据长度来渲染\n\n      var tempHTML = '';\n\n      for (var i = 0; i < wheelsData.length; i++) {\n        //列\n        tempHTML += '<div class=\"wheel\"><ul class=\"selectContainer\">';\n\n        if (_this.jsonType) {\n          for (var j = 0; j < wheelsData[i].data.length; j++) {\n            //行\n            tempHTML += '<li class=\"wheelItem wheelitem-' + _this.iden + '\" id=\"wheelItem-' + _this.iden + '-' + i + '-' + j + '\" data-id=\"' + wheelsData[i].data[j][_this.keyMap.id] + '\">' + wheelsData[i].data[j][_this.keyMap.value] + '</li>';\n          }\n        } else {\n          for (var j = 0; j < wheelsData[i].data.length; j++) {\n            //行\n            tempHTML += '<li class=\"wheelItem wheelitem-' + _this.iden + '\" id=\"wheelItem-' + _this.iden + '-' + i + '-' + j + '\">' + wheelsData[i].data[j] + '</li>';\n          }\n        }\n\n        tempHTML += '</ul></div>';\n      }\n\n      _this.mobileSelect.querySelector('.wheels').innerHTML = tempHTML;\n    },\n    addListenerAll: function addListenerAll() {\n      var _this = this;\n\n      for (var i = 0; i < _this.slider.length; i++) {\n        //手势监听\n        (function (i) {\n          _this.addListenerWheel(_this.wheel[i], i);\n        })(i);\n      }\n    },\n    addListenerWheel: function addListenerWheel(theWheel, index) {\n      var _this = this;\n\n      theWheel.addEventListener('touchstart', function (event) {\n        _this.touch(event, this.firstChild, index);\n      }, false);\n      theWheel.addEventListener('touchend', function (event) {\n        _this.touch(event, this.firstChild, index);\n      }, false);\n      theWheel.addEventListener('touchmove', function (event) {\n        _this.touch(event, this.firstChild, index);\n      }, false);\n\n      if (_this.isPC) {\n        //如果是PC端则再增加拖拽监听 方便调试\n        theWheel.addEventListener('mousedown', function (event) {\n          _this.dragClick(event, this.firstChild, index);\n        }, false);\n        theWheel.addEventListener('mousemove', function (event) {\n          _this.dragClick(event, this.firstChild, index);\n        }, false);\n        theWheel.addEventListener('mouseup', function (event) {\n          _this.dragClick(event, this.firstChild, index);\n        }, true);\n      }\n    },\n    checkDataType: function checkDataType() {\n      var _this = this;\n\n      if (_typeof(_this.wheelsData[0].data[0]) == 'object') {\n        _this.jsonType = true;\n      }\n    },\n    checkCascade: function checkCascade() {\n      var _this = this;\n\n      if (_this.jsonType) {\n        var node = _this.wheelsData[0].data;\n\n        for (var i = 0; i < node.length; i++) {\n          if (_this.keyMap.childs in node[i] && node[i][_this.keyMap.childs].length > 0) {\n            _this.cascade = true;\n            _this.cascadeJsonData = _this.wheelsData[0].data;\n            break;\n          }\n        }\n      } else {\n        _this.cascade = false;\n      }\n    },\n    generateArrData: function generateArrData(targetArr) {\n      var tempArr = [];\n      var keyMap_id = this.keyMap.id;\n      var keyMap_value = this.keyMap.value;\n\n      for (var i = 0; i < targetArr.length; i++) {\n        var tempObj = {};\n        tempObj[keyMap_id] = targetArr[i][this.keyMap.id];\n        tempObj[keyMap_value] = targetArr[i][this.keyMap.value];\n        tempArr.push(tempObj);\n      }\n\n      return tempArr;\n    },\n    initCascade: function initCascade() {\n      var _this = this;\n\n      _this.displayJson.push(_this.generateArrData(_this.cascadeJsonData));\n\n      if (_this.initPosition.length > 0) {\n        _this.initDeepCount = 0;\n\n        _this.initCheckArrDeep(_this.cascadeJsonData[_this.initPosition[0]]);\n      } else {\n        _this.checkArrDeep(_this.cascadeJsonData[0]);\n      }\n\n      _this.reRenderWheels();\n    },\n    initCheckArrDeep: function initCheckArrDeep(parent) {\n      var _this = this;\n\n      if (parent) {\n        if (_this.keyMap.childs in parent && parent[_this.keyMap.childs].length > 0) {\n          _this.displayJson.push(_this.generateArrData(parent[_this.keyMap.childs]));\n\n          _this.initDeepCount++;\n          var nextNode = parent[_this.keyMap.childs][_this.initPosition[_this.initDeepCount]];\n\n          if (nextNode) {\n            _this.initCheckArrDeep(nextNode);\n          } else {\n            _this.checkArrDeep(parent[_this.keyMap.childs][0]);\n          }\n        }\n      }\n    },\n    checkArrDeep: function checkArrDeep(parent) {\n      //检测子节点深度  修改 displayJson\n      var _this = this;\n\n      if (parent) {\n        if (_this.keyMap.childs in parent && parent[_this.keyMap.childs].length > 0) {\n          _this.displayJson.push(_this.generateArrData(parent[_this.keyMap.childs])); //生成子节点数组\n\n\n          _this.checkArrDeep(parent[_this.keyMap.childs][0]); //检测下一个子节点\n\n        }\n      }\n    },\n    checkRange: function checkRange(index, posIndexArr) {\n      var _this = this;\n\n      var deleteNum = _this.displayJson.length - 1 - index;\n\n      for (var i = 0; i < deleteNum; i++) {\n        _this.displayJson.pop(); //修改 displayJson\n\n      }\n\n      var resultNode;\n\n      for (var i = 0; i <= index; i++) {\n        if (i == 0) resultNode = _this.cascadeJsonData[posIndexArr[0]];else {\n          resultNode = resultNode[_this.keyMap.childs][posIndexArr[i]];\n        }\n      }\n\n      _this.checkArrDeep(resultNode); //console.log(_this.displayJson);\n\n\n      _this.reRenderWheels();\n\n      _this.fixRowStyle();\n\n      _this.setCurDistance(_this.resetPosition(index, posIndexArr));\n    },\n    resetPosition: function resetPosition(index, posIndexArr) {\n      var _this = this;\n\n      var tempPosArr = posIndexArr;\n      var tempCount;\n\n      if (_this.slider.length > posIndexArr.length) {\n        tempCount = _this.slider.length - posIndexArr.length;\n\n        for (var i = 0; i < tempCount; i++) {\n          tempPosArr.push(0);\n        }\n      } else if (_this.slider.length < posIndexArr.length) {\n        tempCount = posIndexArr.length - _this.slider.length;\n\n        for (var i = 0; i < tempCount; i++) {\n          tempPosArr.pop();\n        }\n      }\n\n      for (var i = index + 1; i < tempPosArr.length; i++) {\n        tempPosArr[i] = 0;\n      }\n\n      return tempPosArr;\n    },\n    reRenderWheels: function reRenderWheels() {\n      var _this = this; //删除多余的wheel\n\n\n      if (_this.wheel.length > _this.displayJson.length) {\n        var count = _this.wheel.length - _this.displayJson.length;\n\n        for (var i = 0; i < count; i++) {\n          _this.wheels.removeChild(_this.wheel[_this.wheel.length - 1]);\n        }\n      }\n\n      for (var i = 0; i < _this.displayJson.length; i++) {\n        //列\n        (function (i) {\n          var tempHTML = '';\n\n          if (_this.wheel[i]) {\n            //console.log('插入Li');\n            for (var j = 0; j < _this.displayJson[i].length; j++) {\n              //行\n              tempHTML += '<li class=\"wheelItem wheelitem-' + _this.iden + '\" id=\"wheelItem-' + _this.iden + '-' + i + '-' + j + '\" data-id=\"' + _this.displayJson[i][j][_this.keyMap.id] + '\">' + _this.displayJson[i][j][_this.keyMap.value] + '</li>';\n            }\n\n            _this.slider[i].innerHTML = tempHTML;\n          } else {\n            var tempWheel = document.createElement(\"div\");\n            tempWheel.className = \"wheel\";\n            tempHTML = '<ul class=\"selectContainer\">';\n\n            for (var j = 0; j < _this.displayJson[i].length; j++) {\n              //行\n              tempHTML += '<li class=\"wheelItem wheelitem-' + _this.iden + '\" id=\"wheelItem-' + _this.iden + '-' + i + '-' + j + '\" data-id=\"' + _this.displayJson[i][j][_this.keyMap.id] + '\">' + _this.displayJson[i][j][_this.keyMap.value] + '</li>';\n            }\n\n            tempHTML += '</ul>';\n            tempWheel.innerHTML = tempHTML;\n\n            _this.addListenerWheel(tempWheel, i);\n\n            _this.wheels.appendChild(tempWheel);\n          } //_this.·(i);\n\n        })(i);\n      }\n    },\n    updateWheels: function updateWheels(data) {\n      var _this = this;\n\n      if (_this.cascade) {\n        _this.cascadeJsonData = data;\n        _this.displayJson = [];\n\n        _this.initCascade();\n\n        if (_this.initPosition.length < _this.slider.length) {\n          var diff = _this.slider.length - _this.initPosition.length;\n\n          for (var i = 0; i < diff; i++) {\n            _this.initPosition.push(0);\n          }\n        }\n\n        _this.setCurDistance(_this.initPosition);\n\n        _this.fixRowStyle();\n      }\n    },\n    updateWheel: function updateWheel(sliderIndex, data) {\n      var _this = this;\n\n      var tempHTML = '';\n\n      if (_this.cascade) {\n        console.error('级联格式不支持updateWheel(),请使用updateWheels()更新整个数据源');\n        return false;\n      } else if (_this.jsonType) {\n        for (var j = 0; j < data.length; j++) {\n          tempHTML += '<li class=\"wheelItem wheelitem-' + _this.iden + '\" id=\"wheelItem-' + _this.iden + '-' + j + '\" data-id=\"' + data[j][_this.keyMap.id] + '\">' + data[j][_this.keyMap.value] + '</li>';\n        }\n\n        _this.wheelsData[sliderIndex] = {\n          data: data\n        };\n      } else {\n        for (var j = 0; j < data.length; j++) {\n          tempHTML += '<li class=\"wheelItem wheelitem-' + _this.iden + '\" id=\"wheelItem-' + _this.iden + '-' + j + '\">' + data[j] + '</li>';\n        }\n\n        _this.wheelsData[sliderIndex] = data;\n      }\n\n      _this.slider[sliderIndex].innerHTML = tempHTML;\n    },\n    fixRowStyle: function fixRowStyle() {\n      var _this = this;\n\n      var width = (100 / _this.wheel.length).toFixed(2);\n\n      for (var i = 0; i < _this.wheel.length; i++) {\n        _this.wheel[i].style.width = width + '%';\n      }\n    },\n    getIndex: function getIndex(distance) {\n      return Math.round((2 * this.liHeight - distance) / this.liHeight);\n    },\n    getIndexArr: function getIndexArr() {\n      var _this = this;\n\n      var temp = [];\n\n      for (var i = 0; i < _this.curDistance.length; i++) {\n        temp.push(_this.getIndex(_this.curDistance[i]));\n      }\n\n      return temp;\n    },\n    getCurValue: function getCurValue() {\n      var _this = this;\n\n      var temp = [];\n\n      var positionArr = _this.getIndexArr();\n\n      if (_this.cascade) {\n        for (var i = 0; i < _this.wheel.length; i++) {\n          temp.push(_this.displayJson[i][positionArr[i]]);\n        }\n      } else if (_this.jsonType) {\n        for (var i = 0; i < _this.curDistance.length; i++) {\n          temp.push(_this.wheelsData[i].data[_this.getIndex(_this.curDistance[i])]);\n        }\n      } else {\n        for (var i = 0; i < _this.curDistance.length; i++) {\n          temp.push(_this.getInnerHtml(i));\n        }\n      }\n\n      return temp;\n    },\n    getValue: function getValue() {\n      return this.curValue;\n    },\n    calcDistance: function calcDistance(index) {\n      return 2 * this.liHeight - index * this.liHeight;\n    },\n    setCurDistance: function setCurDistance(indexArr) {\n      var _this = this;\n\n      var temp = [];\n\n      for (var i = 0; i < _this.slider.length; i++) {\n        temp.push(_this.calcDistance(indexArr[i]));\n\n        _this.movePosition(_this.slider[i], temp[i]);\n      }\n\n      _this.curDistance = temp;\n    },\n    fixPosition: function fixPosition(distance) {\n      return -(this.getIndex(distance) - 2) * this.liHeight;\n    },\n    movePosition: function movePosition(theSlider, distance) {\n      theSlider.style.webkitTransform = 'translate3d(0,' + distance + 'px, 0)';\n      theSlider.style.transform = 'translate3d(0,' + distance + 'px, 0)';\n    },\n    locatePosition: function locatePosition(index, posIndex) {\n      var _this = this;\n\n      this.curDistance[index] = this.calcDistance(posIndex);\n      this.movePosition(this.slider[index], this.curDistance[index]);\n\n      if (_this.cascade) {\n        _this.checkRange(index);\n      }\n\n      _this.activeItem(_this.getIndexArr());\n    },\n    updateCurDistance: function updateCurDistance(theSlider, index) {\n      if (theSlider.style.transform) {\n        this.curDistance[index] = parseInt(theSlider.style.transform.split(',')[1]);\n      } else {\n        this.curDistance[index] = parseInt(theSlider.style.webkitTransform.split(',')[1]);\n      }\n    },\n    getDistance: function getDistance(theSlider) {\n      if (theSlider.style.transform) {\n        return parseInt(theSlider.style.transform.split(',')[1]);\n      } else {\n        return parseInt(theSlider.style.webkitTransform.split(',')[1]);\n      }\n    },\n    getInnerHtml: function getInnerHtml(sliderIndex) {\n      var _this = this;\n\n      var lengthOfList = _this.slider[sliderIndex].getElementsByTagName(\"li\").length;\n\n      var index = _this.getIndex(_this.curDistance[sliderIndex]);\n\n      if (index >= lengthOfList) {\n        index = lengthOfList - 1;\n      } else if (index < 0) {\n        index = 0;\n      }\n\n      return _this.slider[sliderIndex].getElementsByTagName('li')[index].innerHTML;\n    },\n    touch: function touch(event, theSlider, index) {\n      var _this = this;\n\n      event = event || window.event;\n\n      switch (event.type) {\n        case \"touchstart\":\n          _this.startY = event.touches[0].clientY;\n          _this.startY = parseInt(_this.startY);\n          _this.oldMoveY = _this.startY;\n          break;\n\n        case \"touchend\":\n          _this.moveEndY = parseInt(event.changedTouches[0].clientY);\n          _this.offsetSum = _this.moveEndY - _this.startY;\n          _this.oversizeBorder = -(theSlider.getElementsByTagName('li').length - 3) * _this.liHeight;\n\n          if (_this.offsetSum == 0) {\n            //offsetSum为0,相当于点击事件\n            // 0 1 [2] 3 4\n            var clickOffetNum = parseInt((document.documentElement.clientHeight - _this.moveEndY) / 40);\n\n            if (clickOffetNum != 2) {\n              var offset = clickOffetNum - 2;\n              var newDistance = _this.curDistance[index] + offset * _this.liHeight;\n\n              if (newDistance <= 2 * _this.liHeight && newDistance >= _this.oversizeBorder) {\n                _this.curDistance[index] = newDistance;\n\n                _this.movePosition(theSlider, _this.curDistance[index]);\n\n                _this.transitionEnd(_this.getIndexArr(), _this.getCurValue());\n              }\n            }\n          } else {\n            //修正位置\n            _this.updateCurDistance(theSlider, index);\n\n            _this.curDistance[index] = _this.fixPosition(_this.curDistance[index]);\n\n            _this.movePosition(theSlider, _this.curDistance[index]); //反弹\n\n\n            if (_this.curDistance[index] + _this.offsetSum > 2 * _this.liHeight) {\n              _this.curDistance[index] = 2 * _this.liHeight;\n              setTimeout(function () {\n                _this.movePosition(theSlider, _this.curDistance[index]);\n              }, 100);\n            } else if (_this.curDistance[index] + _this.offsetSum < _this.oversizeBorder) {\n              _this.curDistance[index] = _this.oversizeBorder;\n              setTimeout(function () {\n                _this.movePosition(theSlider, _this.curDistance[index]);\n              }, 100);\n            }\n\n            _this.transitionEnd(_this.getIndexArr(), _this.getCurValue());\n          }\n\n          if (_this.cascade) {\n            _this.checkRange(index, _this.getIndexArr());\n          }\n\n          _this.activeItem(_this.getIndexArr());\n\n          break;\n\n        case \"touchmove\":\n          event.preventDefault();\n          _this.moveY = event.touches[0].clientY;\n          _this.offset = _this.moveY - _this.oldMoveY;\n\n          _this.updateCurDistance(theSlider, index);\n\n          _this.curDistance[index] = _this.curDistance[index] + _this.offset;\n\n          _this.movePosition(theSlider, _this.curDistance[index]);\n\n          _this.oldMoveY = _this.moveY;\n          break;\n      }\n    },\n    activeItem: function activeItem(obj) {\n      var _this2 = this;\n\n      //Active\n      console.log(obj);\n      $('.wheelitem-' + this.iden).removeClass('active');\n      obj.forEach(function (j, i) {\n        $('#wheelItem-' + _this2.iden + '-' + i + '-' + j).addClass('active');\n      });\n      console.log(obj); //Active\n    },\n    dragClick: function dragClick(event, theSlider, index) {\n      console.log('dragclick');\n\n      var _this = this;\n\n      event = event || window.event;\n\n      switch (event.type) {\n        case \"mousedown\":\n          _this.startY = event.clientY;\n          _this.oldMoveY = _this.startY;\n          _this.clickStatus = true;\n          break;\n\n        case \"mouseup\":\n          _this.moveEndY = event.clientY;\n          _this.offsetSum = _this.moveEndY - _this.startY;\n          _this.oversizeBorder = -(theSlider.getElementsByTagName('li').length - 3) * _this.liHeight;\n\n          if (_this.offsetSum == 0) {\n            var clickOffetNum = parseInt((document.documentElement.clientHeight - _this.moveEndY) / 40);\n\n            if (clickOffetNum != 2) {\n              var offset = clickOffetNum - 2;\n              var newDistance = _this.curDistance[index] + offset * _this.liHeight;\n\n              if (newDistance <= 2 * _this.liHeight && newDistance >= _this.oversizeBorder) {\n                _this.curDistance[index] = newDistance;\n\n                _this.movePosition(theSlider, _this.curDistance[index]);\n\n                _this.transitionEnd(_this.getIndexArr(), _this.getCurValue());\n              }\n            }\n          } else {\n            //修正位置\n            _this.updateCurDistance(theSlider, index);\n\n            _this.curDistance[index] = _this.fixPosition(_this.curDistance[index]);\n\n            _this.movePosition(theSlider, _this.curDistance[index]); //反弹\n\n\n            if (_this.curDistance[index] + _this.offsetSum > 2 * _this.liHeight) {\n              _this.curDistance[index] = 2 * _this.liHeight;\n              setTimeout(function () {\n                _this.movePosition(theSlider, _this.curDistance[index]);\n              }, 100);\n            } else if (_this.curDistance[index] + _this.offsetSum < _this.oversizeBorder) {\n              _this.curDistance[index] = _this.oversizeBorder;\n              setTimeout(function () {\n                _this.movePosition(theSlider, _this.curDistance[index]);\n              }, 100);\n            }\n\n            _this.transitionEnd(_this.getIndexArr(), _this.getCurValue());\n          }\n\n          _this.clickStatus = false;\n\n          if (_this.cascade) {\n            _this.checkRange(index, _this.getIndexArr());\n          }\n\n          break;\n\n        case \"mousemove\":\n          event.preventDefault();\n\n          if (_this.clickStatus) {\n            _this.moveY = event.clientY;\n            _this.offset = _this.moveY - _this.oldMoveY;\n\n            _this.updateCurDistance(theSlider, index);\n\n            _this.curDistance[index] = _this.curDistance[index] + _this.offset;\n\n            _this.movePosition(theSlider, _this.curDistance[index]);\n\n            _this.oldMoveY = _this.moveY;\n          }\n\n          break;\n      }\n    }\n  };\n\n  if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) == \"object\") {\n    module.exports = MobileSelect;\n  } else if (typeof define == \"function\" && define.amd) {\n    define([], function () {\n      return MobileSelect;\n    });\n  } else {\n    window.MobileSelect = MobileSelect;\n  }\n})();"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","getClass","dom","string","getElementsByClassName","MobileSelect","config","this","iden","mobileSelect","wheelsData","wheels","jsonType","cascadeJsonData","displayJson","curValue","curIndexArr","cascade","startY","moveEndY","moveY","oldMoveY","offset","offsetSum","oversizeBorder","curDistance","clickStatus","isPC","init","_this","keyMap","id","value","childs","checkDataType","renderWheels","cancelBtnText","ensureBtnText","trigger","document","querySelector","console","error","wheel","slider","liHeight","offsetHeight","ensureBtn","cancelBtn","grayLayer","popUp","callback","transitionEnd","onShow","onHide","initPosition","position","titleText","title","connector","triggerDisplayData","style","cursor","setStyle","setTitle","checkIsPC","checkCascade","addListenerAll","initCascade","length","diff","i","push","setCurDistance","addEventListener","event","hide","tempValue","getInnerHtml","innerHTML","getIndexArr","getCurValue","show","stopPropagation","fixRowStyle","setTimeout","activeItem","ensureBtnColor","color","cancelBtnColor","titleColor","textColor","panel","titleBgColor","btnBar","backgroundColor","bgColor","shadowMask","background","isNaN","maskOpacity","grayMask","sUserAgent","navigator","userAgent","toLowerCase","bIsIpad","match","bIsIphoneOs","bIsMidp","bIsUc7","bIsUc","bIsAndroid","bIsCE","bIsWM","classList","add","remove","cancelText","ensureText","createElement","className","body","appendChild","tempHTML","j","data","addListenerWheel","theWheel","index","touch","firstChild","dragClick","node","generateArrData","targetArr","tempArr","keyMap_id","keyMap_value","tempObj","initDeepCount","initCheckArrDeep","checkArrDeep","reRenderWheels","parent","nextNode","checkRange","posIndexArr","resultNode","deleteNum","pop","resetPosition","tempPosArr","tempCount","count","removeChild","tempWheel","updateWheels","updateWheel","sliderIndex","width","toFixed","getIndex","distance","Math","round","temp","positionArr","getValue","calcDistance","indexArr","movePosition","fixPosition","theSlider","webkitTransform","transform","locatePosition","posIndex","updateCurDistance","parseInt","split","getDistance","lengthOfList","getElementsByTagName","newDistance","window","type","touches","clientY","changedTouches","clickOffetNum","documentElement","clientHeight","preventDefault","_this2","log","$","removeClass","forEach","addClass","exports","module","define","amd"],"mappings":"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"}